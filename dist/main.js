(()=>{"use strict";function e(e,t,n){this.task=e,this.dueDate=t,this.priority=n}const t=document.querySelector("#add-task-form"),n=document.querySelector("#add-task-button"),d=document.querySelector("#add-task-input"),c=document.querySelector("#add-task-date"),a=document.querySelector("#priority"),l=document.querySelector(".list");let r="",o=[];n.addEventListener("click",(n=>{n.preventDefault(),r=d.value;let i=c.value,s=a.value;const u=new e(r,i,s);o.push(u),t.reset(),function(){const e=document.createElement("div");e.classList.add("task");const t=document.createElement("div");t.classList.add("task_el"),e.appendChild(t);const n=document.createElement("input");n.classList.add("text"),n.type="text",n.value=r,n.readOnly=!0,t.appendChild(n);const d=document.createElement("div");d.classList.add("taskaction");const c=document.createElement("button");c.innerText="Edit",c.classList.add("editBtn");const a=document.createElement("button");a.innerText="Delete",a.classList.add("deleteBtn"),d.appendChild(c),d.appendChild(a),t.appendChild(d),l.appendChild(t),function(e,t){e.addEventListener("click",(n=>{"edit"===e.innerText.toLowerCase()?(e.innerText="Save",t.readOnly=!1,t.focus()):"save"===e.innerText.toLowerCase()&&(function(){let e=document.querySelectorAll(".editBtn");e.forEach((t=>{t.addEventListener("click",(t=>{let n=Array.from(e).indexOf(t.target),d=document.querySelectorAll(".text");o[n].task=d[n].value}))}))}(),e.innerText="Edit",t.readOnly="true")}))}(c,n),function(e){let t=document.querySelectorAll(".deleteBtn");t.forEach((e=>{e.addEventListener("click",(e=>{let n=Array.from(t).indexOf(e.target);o.splice(n,1),console.log(o)}))}))}()}()}))})();