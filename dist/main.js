(()=>{"use strict";function e(e,t,n){this.task=e,this.dueDate=t,this.priority=n}const t=document.querySelector("#add-task-form"),n=document.querySelector("#add-task-button"),d=document.querySelector("#add-task-input"),l=document.querySelector("#add-task-date"),a=document.querySelector("#priority"),c=document.querySelector(".list");let o,i="",s=[],r=s;const u=document.querySelector(".inbox"),m=document.querySelector(".today"),p=document.querySelector(".list"),y=document.querySelector(".inbox"),v=document.querySelector(".today"),L=document.querySelector(".list");n.addEventListener("click",(n=>{if(n.preventDefault(),""===d.value)alert("Please insert your task!");else{i=d.value;let n=l.value,r=a.value;const u=new e(i,n,r);s.push(u),t.reset(),function(){const e=document.createElement("div");e.classList.add("task");const t=document.createElement("div");t.classList.add("task_el"),e.appendChild(t);const n=document.createElement("input");n.classList.add("text"),n.type="text",n.value=s[s.length-1].task,n.readOnly=!0,t.appendChild(n);const d=document.createElement("input");d.classList.add("taskDate"),d.type="date",d.value=s[s.length-1].dueDate,d.readOnly=!0,t.appendChild(d);const l=document.createElement("select");l.classList.add("selection");const a=document.createElement("option"),i=document.createElement("option");i.classList.add("prio");const r=document.createElement("option");r.classList.add("prio");const u=document.createElement("option");u.classList.add("prio"),i.value="High",i.text="High",r.value="Medium",r.text="Medium",u.value="Low",u.text="Low",a.text=s[s.length-1].priority,"High"===a.text?i.selected:"Medium"===a.text?r.selected:"Medium"===a.text&&u.selected,l.add(i,null),l.add(r,null),l.add(u,null),l.classList.add("taskPriority"),l.value=s[s.length-1].priority,l.disabled=!0,t.appendChild(l);const m=document.createElement("div");m.classList.add("taskaction");const p=document.createElement("button");p.innerText="Edit",p.classList.add("editBtn");const y=document.createElement("button");y.innerText="Delete",y.classList.add("deleteBtn"),m.appendChild(p),m.appendChild(y),t.appendChild(m),c.appendChild(t),function(e,t,n,d,l){e.addEventListener("click",(a=>{"edit"===e.innerText.toLowerCase()?(e.innerText="Save",t.readOnly=!1,n.readOnly=!1,d.disabled=!1,l.text="",t.focus()):"save"===e.innerText.toLowerCase()&&(e.innerText="Edit",t.readOnly=!0,n.readOnly=!0,d.disabled=!0,console.log(s))}))}(p,n,d,l,a),function(){let e=document.querySelectorAll(".editBtn");e.forEach((t=>{t.addEventListener("click",(t=>{let n=Array.from(e).indexOf(t.target);!function(e){let t=document.querySelectorAll(".text");s[e].task=t[e].value}(n),function(e){let t=document.querySelectorAll(".taskDate");s[e].dueDate=t[e].value}(n),function(e){let t=document.querySelector(".selection");s[e].priority=t.value}(n)}))}))}(),function(e){let t=document.querySelectorAll(".deleteBtn");t.forEach((e=>{e.addEventListener("click",(e=>(o=Array.from(t).indexOf(e.target),o)))})),e.addEventListener("click",(function(){s.splice(o,1),c.removeChild(this.parentNode.parentNode)}))}(y)}()}})),m.addEventListener("click",(()=>{u.classList.remove("active"),m.classList.add("active"),p.replaceChildren(),console.log(r)})),y.addEventListener("click",(()=>{y.classList.add("active"),v.classList.remove("active"),L.replaceChildren()}))})();