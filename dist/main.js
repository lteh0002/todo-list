(()=>{"use strict";function e(e,t,n){this.task=e,this.dueDate=t,this.priority=n}const t=document.querySelector("#add-task-form"),n=document.querySelector("#add-task-button"),d=document.querySelector("#add-task-input"),a=document.querySelector("#add-task-date"),c=document.querySelector("#priority"),i=document.querySelector(".list");let l="",r=[];function s(){let e=document.querySelectorAll(".editBtn");e.forEach((t=>{t.addEventListener("click",(t=>{!function(e){let t=document.querySelectorAll(".text");r[e].task=t[e].value}(Array.from(e).indexOf(t.target))}))}))}n.addEventListener("click",(n=>{n.preventDefault(),l=d.value;let o=a.value,u=c.value;const m=new e(l,o,u);r.push(m),t.reset(),function(){const e=document.createElement("div");e.classList.add("task");const t=document.createElement("div");t.classList.add("task_el"),e.appendChild(t);const n=document.createElement("input");n.classList.add("text"),n.type="text",n.value=l,n.readOnly=!0,t.appendChild(n);const d=document.createElement("div");d.classList.add("taskaction");const a=document.createElement("button");a.innerText="Edit",a.classList.add("editBtn");const c=document.createElement("button");c.innerText="Delete",c.classList.add("deleteBtn"),d.appendChild(a),d.appendChild(c),t.appendChild(d),i.appendChild(t),function(e,t){e.addEventListener("click",(n=>{"edit"===e.innerText.toLowerCase()?(e.innerText="Save",t.readOnly=!1,t.focus()):"save"===e.innerText.toLowerCase()&&(s(),e.innerText="Edit",t.readOnly="true")}))}(a,n),s()}()}))})();